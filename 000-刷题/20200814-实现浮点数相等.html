<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>实现浮点数相等</title>
</head>
<body>
    <h1>实现浮点数相等</h1>

    <dl>
        <dt>题目</dt>
        <dd>
            <pre>
                已知：

                0.1 + 0.2 === 0.3;    // 返回值是false
                请实现一个名为epsEqu的方法，可以实现浮点数相等：
                
                epsEqu(0.1 + 0.2) === 0.3;    // 返回值是true
            </pre>
        </dd>
    </dl>
    <br /><hr /><br />


</body>
<script>
{
    let epsEqu = (a,b)=>{

        let theNum = (q)=>{
            if(Number(q)){
                q = {
                    num:q,
                    len:('' + q).split('.')[1].length
                };
                q.num = q.num * Math.pow(10, q.len);
                return q;
            }
        };

        if(Number(a) && Number(b)){
            a = theNum(a);
            b = theNum(b);
            if(a.len === b.len){
                return (a.num + b.num) / (10 * a.len);
            }
            if(a.len > b.len){
                b.num = (b.num / (10 * b.len)) * (10 * a.len);
                return (a.num + b.num) / (10 * a.len);
            }
            if(a.len < b.len){
                a.num = (a.num / (10 * a.len)) * (10 * b.len);
                return (a.num + b.num) / (10 * b.len);
            }
        }
    };


    console.log(epsEqu(0.1123,0.2));
}    
</script>
</html>

